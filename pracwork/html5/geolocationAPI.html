<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>geolocation</title>
</head>
<body>
	<div id="map" style="width:300px;height:300px;"></div>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript">
		window.onload = function(){
			navigator.geolocation.getCurrentPosition(function(position){
				var latitude = position.coords.latitude;
				var longitude = position.coords.longitude;
				var accuracy = position.coords.accuracy;

				var latlng = new google.maps.LatLng(latitude,longitude);
				var myOptions = {
					zoom:14,
					center:latlng,
					mapTypeId:google.maps.MapTypeId.ROADMAP
				};
				var map1 = new google.maps.Map(document.getElementById('map'),myOptions);
				var marker = new google.maps.Marker({
					position:latlng,
					map:map1
				});
				var infowindow = new google.maps.InfoWindow({
					content:'当前位置	'
				});
				infowindow.open(map1,marker);
			},function(err){
				console.log(err.code)
			});

		}
		// $(document).ready(function(){

		// })
	</script>
</body>
</html>